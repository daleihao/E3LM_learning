https://docplayer.net/134581427-Clm5-0-tutorial-single-point-simulations.html
There’s a bunch of information in the singleptscript that’s worth readingBelow are the cliff notes of what you’ll need to look for and change.
Let’s set this up for Harvard Forest.  
plon=287.8                            #lonshould be 0 to 360 (no negative values for points in the west!)
plat = 42.5#latshould be -90 to 90
create_domain= True
create_surfdata= True
create_landuse= True#if you want a transient run you should set this flag to true...
create_datm= False* Note single point runs are much faster if you create new datmfiles for just a single point (create_datm= True), but this takes some time.  
Instead we’ll point to files that have been generated for you later on.The following are designed to simulate sub-grid heterogeneity, 
which may not be appropriate for a site-level simulationHere we’ll create a surface data set with a broadleaf deciduous temperate 
pftoverwrite_single_pft= True         # makes whole grid 100% single 
pftdominant_pft= 7             # broadleaf deciduous temperature 
pftzero_nonveg_pfts= True         # Sets all non_veglanunitsto 0
uniform_snowpack= True       # sub-grid elevation controls over snow 
meltno_saturation_excess= True     # sets FMAX = 0, belowdir_output='/glade/scratch/'+myname+'/single_point/’dir_output_datm=dir_output+ 'datmdata

(1) create a new caseNavigate to the scripts directory in the source codedirectory:cd/glade/u/home/$USER/clm5.0_2019tutorial/cime/scripts./create_newcase--compset2000_DATM%GSWP3v1_CLM50%BGC_SICE_SOCN_SROF_SGLC_SWAV --res f09_g17 --case /glade/u/home/$USER/clm_tutorial_cases/Ha1_CLM50bgc_001 --run-unsupported --project UCGD0004
(2) invokecase.setupExercise 4d: Single point BGC_ADType this command line (these are identical to ex 4c)./case.setup./xmlchange--file env_run.xml--id CLM_FORCE_COLDSTART --valon./xmlchange--file env_run.xml--id CLM_NML_USE_CASE --val1850_control./xmlchange--file env_run.xml--id DATM_CLMNCEP_YR_START --val1901./xmlchange--file env_run.xml--id DATM_CLMNCEP_YR_END --val1920./xmlchange--file env_run.xml--id DATM_PRESAERO --valclim_1850./xmlchange--file env_run.xml--id CCSM_CO2_PPMV --val284.7./xmlchange--file env_run.xml--id STOP_OPTION --valnyears./xmlchange--file env_run.xml--id RUN_REFDATE --val0001-01-01./xmlchange--file env_run.xml--id RUN_STARTDATE --val0001-01-01Additional xml changes for AD mode./xmlchange--file env_run.xml--id CLM_ACCELERATED_SPINUP --valonThe data you analyze was generated like this...#./xmlchange--file env_run.xml--id STOP_N --val400#./xmlchange--file env_run.xml--id REST_N --val100...but for the purposes of this exercise, lets run for something more reasonable./xmlchange--file env_run.xml--id STOP_N --val5./xmlchange--file env_run.xml--id REST_N –val$STOP_N
Running in ’accelerated decomposition’ (AD) modeExercise 4d: Single point BGC_ADNavigate to your case directory:cd~/clm_tutorial_cases/Ha1_CLM50bgc_001 The we can make the following xml changes BEFORE you set up your case./xmlchangeMPILIB=mpi-serial./xmlchange--file env_mach_pes.xml--id COST_PES --val36./xmlchange--file env_mach_pes.xml--id TOTALPES --val1./xmlchange--file env_mach_pes.xml--id NTASKS --val1./xmlchange--file env_mach_pes.xml--id NTASKS_PER_INST --val1./xmlchange--file env_mach_pes.xml--id ROOTPE --val0./xmlchange--file env_batch.xml--id JOB_QUEUE --valshare./xmlchange--file env_batch.xml--id JOB_WALLCLOCK_TIME --val6:00:00
Then we get to point to our new domain files.  <again identical to ex 4c>*you can change this to your own directory, or use mine./xmlchange--file env_run.xml--id ATM_DOMAIN_FILE --valdomain.lnd.fv0.9x1.25_gx1v7_287.8_42.5.151020.nc./xmlchange--file env_run.xml--id ATM_DOMAIN_PATH --val/glade/scratch/$USER/single_point./xmlchange--file env_run.xml--id LND_DOMAIN_FILE --valdomain.lnd.fv0.9x1.25_gx1v7_287.8_42.5.151020.nc./xmlchange--file env_run.xml--id LND_DOMAIN_PATH --val/glade/scratch/$USER/single_pointThen we point to our new surface dataset we just generated in user_nl_clm#Then copy the lines below to the end of the fileecho "fsurdat= '/glade/scratch/wwieder/single_point/surfdata_0.9x1.25_16pfts_CMIP6_simyr1850_287.8_42.5_c170706.nc'" >> user_nl_clmecho "hist_mfilt= 20" >> user_nl_clmecho "hist_nhtfrq= -8760" >> user_nl_clmI’m also adding this to user_nl_clmfor AD simulations to reduce variables written out to .h0. files.echo "hist_empty_htapes= .true." >> user_nl_clmecho "hist_fincl1 = 'TOTECOSYSC', 'TOTECOSYSN', 'TOTSOMC', 'TOTSOMN', 'TOTVEGC', 'TOTVEGN', 'TLAI', 'GPP', 'CPOOL', 'NPP', 'TWS', 'H2OSNO'" >> user_nl_clm# And add this to user_nl_datmecho "mapalgo= 'nn','nn','nn','nn','nn'" >> user_nl_datmCopy the datm.streamsfiles we used in ex. 4c into this directory.cp../Ha1_CLM50sp_001/user_datm.streams.txt.* .
